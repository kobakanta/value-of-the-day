(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[85],{15:function(e,t,s){e.exports=function(e){"use strict";var t={name:"ja",weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e){return e+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日(ddd) HH:mm"},meridiem:function(e){return e<12?"午前":"午後"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(t,null,!0),t}(s(6117))},3598:function(e){e.exports=function(e,t){t.prototype.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)}}},3668:(e,t,s)=>{Promise.resolve().then(s.bind(s,5622))},5622:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var a=s(5155),r=s(2115),l=s(9587),n=s(9708),i=s(6117),o=s.n(i);s(15);var d=s(3598),c=s.n(d),m=s(2619),h=s.n(m);function x(){let[e,t]=(0,r.useState)([]),[s,i]=(0,r.useState)(o()()),[d,c]=(0,r.useState)(null),[m,x]=(0,r.useState)([]);(0,r.useEffect)(()=>{(async()=>{t((await (0,n.GG)((0,n.rJ)(l.db,"reviews"))).docs.map(e=>e.data()))})()},[]);let f=e.reduce((e,t)=>{let s=o()(t.createdAt.toDate()).format("YYYY-MM-DD");return e[s]||(e[s]=[]),e[s].push(t),e},{}),p=Object.fromEntries(Object.entries(f).map(e=>{let[t,s]=e;return[t,s.reduce((e,t)=>e+t.stars,0)/s.length]})),u=s.startOf("month"),v=s.endOf("month"),b=u.startOf("week"),j=v.endOf("week"),g=[],_=b;for(;_.isSameOrBefore(j,"day");)g.push(_),_=_.add(1,"day");let Y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",s=Math.round(2*e)/2,r=Math.floor(s),l=s-r==.5;return(0,a.jsxs)("div",{className:"large"===t?"stars-large":"stars",children:[Array.from({length:r}).map((e,t)=>(0,a.jsx)("span",{className:"star full"},"f-".concat(t))),l&&(0,a.jsx)("span",{className:"star half"}),Array.from({length:5-r-!!l}).map((e,t)=>(0,a.jsx)("span",{className:"star"},"e-".concat(t)))]})},w=()=>{c(null),x([])};return(0,a.jsxs)("div",{className:"flex flex-col items-center p-4 max-w-[1024px] mx-auto relative min-h-screen pb-4",children:[(0,a.jsxs)("div",{className:"md:hidden fixed top-0 left-0 w-full flex justify-around bg-white border-b border-gray-300 py-2 z-10",children:[(0,a.jsx)(h(),{href:"/",className:"w-1/2 text-center font-semibold py-2 border-r border-gray-300  hover:bg-black hover:text-white active:bg-black active:text-white transition",children:"Back to Top"}),(0,a.jsx)(h(),{href:"/post",className:"w-1/2 text-center font-semibold py-2  hover:bg-black hover:text-white active:bg-black active:text-white transition",children:"Post review"})]}),(0,a.jsxs)("div",{className:"hidden md:absolute md:top-4 md:right-4 md:flex md:flex-col md:items-end md:gap-2",children:[(0,a.jsx)(h(),{href:"/",className:"min-w-[160px] text-center border border-black text-black px-3 py-1 text-sm font-semibold  hover:bg-black hover:text-white transition",children:"Back to Top"}),(0,a.jsx)(h(),{href:"/post",className:"min-w-[160px] text-center border border-black text-black px-3 py-1 text-sm font-semibold  hover:bg-black hover:text-white transition",children:"Post review"})]}),(0,a.jsx)(h(),{href:"/",className:"mt-14 md:mt-0",children:(0,a.jsx)("h1",{className:"text-3xl font-bold mb-4 cursor-pointer",children:"Value of the day"})}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,a.jsx)("button",{onClick:()=>i(s.subtract(1,"month")),children:"<"}),(0,a.jsx)("span",{className:"text-lg",children:s.locale("en").format("YYYY-MM")}),(0,a.jsx)("button",{onClick:()=>i(s.add(1,"month")),children:">"})]}),(0,a.jsx)("div",{className:"grid grid-cols-7 gap-1 sm:gap-2 w-full",children:g.map(e=>{let t=e.format("YYYY-MM-DD"),r=p[t],l="number"==typeof r?r:null,n=e.month()===s.month();return(0,a.jsxs)("div",{onClick:()=>(e=>{let t=f[e];t&&t.length>0&&(x(t),c(e))})(t),className:"cursor-pointer border h-[90px] sm:h-28 md:h-32 p-0.5 sm:p-1 flex flex-col justify-center items-center text-xs sm:text-sm shadow-sm transition-colors duration-200 \n              ".concat(n?"bg-white text-gray-600 hover:bg-yellow-400 hover:text-white active:bg-yellow-400 active:text-white":"bg-gray-100 text-gray-400"),children:[(0,a.jsx)("div",{className:"text-xl sm:text-2xl md:text-3xl font-bold",children:e.format("DD")}),(0,a.jsx)("div",{className:"flex flex-col items-center mt-0.5 sm:mt-1 md:mt-2 scale-[0.6] sm:scale-[0.8] md:scale-100",children:null!==l?(0,a.jsxs)(a.Fragment,{children:[Y(l),(0,a.jsxs)("div",{className:"rating-value mt-0.5 md:mt-1 text-xs md:text-sm",children:[r.toFixed(2)," / 5"]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"stars",children:Array.from({length:5}).map((e,t)=>(0,a.jsx)("span",{className:"star"},"empty-".concat(t)))}),(0,a.jsx)("div",{className:"rating-value mt-0.5 md:mt-1 text-xs md:text-sm",children:"-- / 5"})]})})]},t)})}),d&&m.length>0&&(0,a.jsx)("div",{className:"modal-backdrop",onClick:w,children:(0,a.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("button",{onClick:w,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition","aria-label":"Close",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,a.jsx)("div",{className:"modal-date-box",children:o()(d).locale("en").format("DD MMM.YYYY")}),(0,a.jsxs)("div",{className:"modal-rating-score-container",children:[(0,a.jsx)("span",{className:"modal-rating-main-val",children:p[d].toFixed(2)}),(0,a.jsx)("span",{className:"modal-rating-denom",children:"/5.00"})]}),Y(p[d],"large"),(0,a.jsxs)("div",{className:"modal-review-box",children:[(0,a.jsxs)("div",{className:"modal-review-header",children:[(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})}),(0,a.jsx)("span",{children:"All reviews"})]}),(0,a.jsx)("div",{className:"review-text",children:m.map((e,t)=>(0,a.jsxs)("div",{className:"review-item",children:[(0,a.jsx)("div",{className:"review-item-header",children:(0,a.jsxs)("svg",{className:"user-icon",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,a.jsx)("circle",{cx:"12",cy:"8",r:"4"}),(0,a.jsx)("path",{d:"M12 14c-6 0-8 3-8 5v1h16v-1c0-2-2-5-8-5z"})]})}),(0,a.jsx)("div",{className:"review-item-text",children:e.text})]},t))})]})]})})]})}o().locale("ja"),o().extend(c())},9587:(e,t,s)=>{"use strict";s.d(t,{db:()=>n});var a=s(2078),r=s(9708);let l=(0,a.Wp)({apiKey:"AIzaSyCytNKtpZ1ZOYUVUYf4MHq1KWQnfDvH67w",authDomain:"value-of-the-day-32197.firebaseapp.com",projectId:"value-of-the-day-32197",storageBucket:"value-of-the-day-32197.firebasestorage.app",messagingSenderId:"720344063109",appId:"1:720344063109:web:8345afa62b070e488b1dec",measurementId:"G-EQKCTNVKC9"}),n=(0,r.aU)(l)}},e=>{e.O(0,[992,619,420,441,255,358],()=>e(e.s=3668)),_N_E=e.O()}]);